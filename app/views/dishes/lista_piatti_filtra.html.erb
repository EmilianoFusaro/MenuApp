<div class="box-body col-xs-12">
<ul class="todo-list" id="lista_piatti" contenteditable="false">
<% @dish.each do |piatto| %>
    <li id="lista_piatti_<%= piatto.id %>" class="item_piatto" style="height:50px;" contenteditable="false" ordine="<%= piatto.ordine %>">
        <!-- drag handle -->
        <span class="handle">
            <i class="fa fa-ellipsis-v"></i>
            <i class="fa fa-ellipsis-v"></i>
            <i class="fa fa-ellipsis-v"></i>
        </span>
        <span id="nome_<%= piatto.id %>" class="text" style="font-size:22px;font-weight:bold;" contenteditable="false"><%= piatto.nome %></span>
        <div class="tools">      
            <i id="modifica_piatto_<%= piatto.id %>" class="fa fa-edit" style="font-size:25px;font-weight:bold;"></i>
            <i id="elimina_piatto_<%= piatto.id %>" class="fa fa-trash-o" style="font-size:25px;font-weight:bold;"></i>
        </div>
    </li>
<%end%>
</ul>
</div>


<script type="text/javascript">
  $(".todo-list").sortable({handle: ".handle"});  //il drag & drop funziona solo su la parte specificata
  $(".todo-list").disableSelection();
  $("li.menu").removeClass("active");
  $("li.menu.index").addClass("active");


  // funzione per determinare posizione di partenza e posizione finale
  // $(".todo-list").sortable({
  //      stop: function() {
  //         var order = $("#sortable").sortable("serialize", {key:'order[]'});
  //      },
  //      start: function(e, ui) {
  //      var old_position = ui.item.index();
  //      alert('vecchia posizione: ' + old_position);
  //      },
  //
  //      update: function (event, ui) {
  //      var new_position = ui.item.index();
  //      alert('nuona posizione: ' +  new_position);
  //       //var data = $(this).sortable('serialize');
  //       //debugger;
  //       //ui.item restituisce <li> spostato
  //       //ui.item.attr('id') restituisce id dell <li> spostato
  //       //$("#lista_piatti_3").index()   restituisce il suo ordine nella lista
  //      }
  //  });
</script>
